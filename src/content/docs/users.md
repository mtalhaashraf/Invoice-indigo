---
title: Users
description: How do users relate inside of the system
---

<script lang="ts">
  import * as Alert from "$lib/components/ui/alert";
  import { Bomb, Rocket } from "lucide-svelte";

</script>

Users can have memberships to many organizations.

So in the case where you do not have organizations you can simply ignore the membership and
organization table.

## User Model

- **id:** Ids are generated by lucia auth
- **name:** The combined name of the user. Names are simply too complex to break up into first name
  and last name so its easier to start with this.
- **email:** Email of the user
- **email_verified:** When the email was verified
- **created_at:** The UTC time of the user's creation
- **updated_at:** The UTC time of the user being updated last
- **role:** Role that the user is, this is either `CUSTOMER` or `SUPERADMIN`, `CUSTOMER` is the
  default role. The `SUPERADMIN` role is for management of the site.

<Alert.Root> <Rocket class="h-4 w-4" /> <Alert.Title>Manual action required!</Alert.Title>
<Alert.Description> If you add attributes to your user model you will need to add them to
<code>app.d.ts</code> as well so that Lucia Auth knows about them. </Alert.Description>
</Alert.Root>

### Notes

We do not need to store the password on the user as lucia handles it.

## Authentication

We are using lucia auth and support the following out of the box:

- Email / Password
- Google Login

## Machine to Machine authentication

<Alert.Root class="mt-6"> <Bomb class="h-4 w-4" /> <Alert.Title>Work in progress!</Alert.Title>
<Alert.Description> This is not thought through and should be ignored for the time being
</Alert.Description> </Alert.Root>

Some products I may be building will use machine to machine authentication e.g. if they are an API
based product

- API token system
  - JWT
